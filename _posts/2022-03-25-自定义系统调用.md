---
layout: post
title: 自定义系统调用
subtitle: linux add syscall
categories: linux
tags: [linux, ubuntu, syscall]
---

# 自定义系统调用

### 添加系统调用号

```c
//arch\x86\entry\syscalls\syscall_64.tbl
//添加一行
335 common  lt_syscall   sys_lt_syscall
```

### 定义系统调用函数

```c
//找个文件，或自己新建一个文件添加定义
SYSCALL_DEFINE1(lt_syscall, unsigned int, len)
{
	return len+1;
}


```



## 测试

编写用户程序如下调用即可

```c
// 调用号，参数
int ret = syscall(335,  114514);
```



# 参考资料

[Linux添加系统调用]([Linux添加系统调用_王清欢Randy的博客-CSDN博客_linux 系统调用](https://blog.csdn.net/qq_41773806/article/details/90048720?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0.pc_relevant_aa&spm=1001.2101.3001.4242.1&utm_relevant_index=3))
